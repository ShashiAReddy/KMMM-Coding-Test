CREATE TABLE `student` (`SID` INT NOT NULL AUTO_INCREMENT,`SNAME` VARCHAR(45) NULL,PRIMARY KEY (`SID`));
CREATE TABLE `registration` (`RID` INT NOT NULL AUTO_INCREMENT,`SID` INT NOT NULL,`CID` INT NOT NULL,PRIMARY KEY (`RID`));
CREATE TABLE `course` (`CID` INT NOT NULL AUTO_INCREMENT,`CNAME` VARCHAR(45) NULL,`TID` INT NOT NULL,PRIMARY KEY (`CID`));

CREATE TABLE `teacher` (`TID` INT NOT NULL AUTO_INCREMENT,`TNAME` VARCHAR(45) NULL,PRIMARY KEY (`TID`));
ALTER TABLE `course` ADD INDEX `Tid_idx` (`TID` ASC);
ALTER TABLE `course` ADD CONSTRAINT `Tid`FOREIGN KEY (`TID`)REFERENCES `teacher` (`TID`)ON DELETE NO ACTION ON UPDATE NO ACTION;ALTER TABLE `registration` ADD INDEX `Sid_idx` (`SID` ASC),ADD INDEX `Cid_idx` (`CID` ASC);
ALTER TABLE `registration` ADD CONSTRAINT `Sid`FOREIGN KEY (`SID`)REFERENCES `student` (`SID`)ON DELETE NO ACTION ON UPDATE NO ACTION,ADD CONSTRAINT `Cid`FOREIGN KEY (`CID`)REFERENCES `course` (`CID`)ON DELETE NO ACTION ON UPDATE NO ACTION;



select R.CID, R.CNAME from registration R inner join Course C on R.CID=C.CID group by R.CID,CNAME having count(SID)>=2
